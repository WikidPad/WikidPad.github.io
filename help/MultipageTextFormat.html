<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
    <head>
        <meta http-equiv="content-type" content="text/html; charset=UTF-8">
        <title>MultipageTextFormat</title>
        <link type="text/css" rel="stylesheet" href="appbase.css">
    </head>
    <body>
<span class="parent-nodes">parent nodes: <span class="parent-node"><a href="Wiki export.html">Wiki export</a></span> | <span class="parent-node"><a href="Wiki import.html">Wiki import</a></span></span><br /><br />
<a name=".h0"></a><h2>Multipage Text Format</h2>
Contents:	<div class="page-toc">
<div class="page-toc-level2"><a href="#.h0">Multipage Text Format</a></div>
<div class="page-toc-level3"><a href="#.h60">General</a></div>
<div class="page-toc-level3"><a href="#.h378">The file header</a></div>
<div class="page-toc-level4"><a href="#.h398">The first line</a></div>
<div class="page-toc-level4"><a href="#.h756">The first header line</a></div>
<div class="page-toc-level4"><a href="#.h1106">The second header line</a></div>
<div class="page-toc-level3"><a href="#.h1810">The file body</a></div>
<div class="page-toc-level4"><a href="#.h1828">Format version 0</a></div>
<div class="page-toc-level4"><a href="#.h2088">Format version 1</a></div>
</div>
<br />
<a href="javascript:history.go(-1)">Back</a><hr size="1" />
<a name=".h60"></a><h3>General</h3>
This format is intended to save and transfer a set of pages as a single, human readable and editable text file. The file must be encoded either as UTF-8 with appropriate byte-order-mark or use the default system encoding of the operating system. The exporter always generates UTF-8 files.<br />
<br />
<a href="#">Top</a><hr size="1" />
<a name=".h378"></a><h3>The file header</h3>
<a name=".h398"></a><h4>The first line</h4>
If the <b>first line</b> starts with<ul><li />#!</ul>
(without the bullet) it is ignored. This is a provision that will later allow to handle these text files as a kind of Unix shell scripts which can be imported just by "executing" them. Currently the exporter doesn't generate such a line and there is no commandline option to run the importer.<br />
<ul><hr size="1" />
</ul>
<a name=".h756"></a><h4>The first header line</h4>
The <b>first header line</b> (which might be the actual second line, see above) consists of "Multipage text format " followed by a number. This identifies the file as an mpt file. The number gives the format version. Currently this whole line has to have the text: "Multipage text format 0" or "Multipage text format 1".<br />
<ul><hr size="1" />
</ul>
<a name=".h1106"></a><h4>The second header line</h4>
The second header line starts with "Separator: " followed by arbitrary characters. The characters define the separator line which will then be used to separate the wiki pages (and other items) from each other. Therefore the wiki pages included in the multipage text file must not contain such a line as normal text.<br />
<br />
The <b>exporter tries to construct this separator</b> by creating 25 random alphanumeric ASCII characters enclosed by five dashes left and right, for instance: <br />
<br />
"-----s6ngFAIHeY6QewI4Bq26i6E3m-----".<br />
<br />
The exporter tries 15 of such random strings. If all these exist already, it gives up with an error message ("No usable separator found").<br />
<br />
<a href="#">Top</a><hr size="1" />
<a name=".h1810"></a><h3>The file body</h3>
<a name=".h1828"></a><h4>Format version 0</h4>
After the header the actual pages begin. Each page consists of a line with its name (=the wiki word) followed by lines of content as they are shown in WikidPad. It ends either by the end of file or by a separator line (see above).<br />
<ul><hr size="1" />
</ul>
<a name=".h2088"></a><h4>Format version 1</h4>
After the header the actual pages begin. The first line defines which item is defined here. If the name starts with "funcpage/" it is a functional page, the content follows. If it starts with "savedsearch/" it is a saved search, the content is binary and encoded as base64.<br />
<br />
If the name starts with "wikipage/" it is a wiki page, the name of the page follows on the same line. The next line contains three dates separated by two spaces "  ". Each date is formatted YYYY-MM-DD/hh:mm:ss. The first date is the modification date of the page, second is the creation date, the third will become the last visit date (currently not supported).<br />
<hr size="1" />
previous: <a href="javascript:history.go(-1)">Back</a><br />
parents:&nbsp; <span class="wiki-link"><a href="Wiki%20export.html">Wiki export</a></span>, <span class="wiki-link"><a href="Wiki%20import.html">Wiki import</a></span><br />
<span class="property">[help.status: done]</span>    </body>
</html>
